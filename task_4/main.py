import asyncio
import hashlib
from time import sleep

from pytoniq import StateInit, Contract, LiteBalancer, WalletV4R2
from pytoniq_core import HashMap, begin_cell, Builder, Address
from codes import *
from schemes import JettonMinterData, JettonWalletData
from seed import mnemo

def key_serializer(key: str):
    return int.from_bytes(hashlib.sha256(key.encode()).digest(), 'big')

def value_serializer(src: str, dest: Builder):
    return dest.store_ref(begin_cell().store_uint(0, 8).store_snake_string(src).end_cell())

def get_metadata():
    hm = HashMap(256, key_serializer=key_serializer, value_serializer=value_serializer)

    hm.set('name', 'Bowl token')
    hm.set('description', 'Food token')
    hm.set('symbol', 'BWL')
    image = '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'
    hm.set('image_data', image)

    return begin_cell().store_uint(0, 8).store_dict(hm.serialize()).end_cell()

async def get_minter(client: LiteBalancer):
    content = get_metadata()
    data = JettonMinterData(
        total_supply=0,
        admin_address=Address('0QCZy07U-c7-qH30s9mHbqD4N-IhAfSD7YgRda6-UeGu-jhQ'),
        content=content,
        jetton_wallet_code=jetton_wallet_code
    )
    state_init = StateInit(code=jetton_minter_code, data=data.serialize())
    return await Contract.from_state_init(client, workchain=0, state_init=state_init)

async def deploy_minter(client: LiteBalancer):
    wallet = await WalletV4R2.from_mnemonic(client, mnemo)
    minter = await get_minter(client)
    await wallet.transfer(destination=minter.address, amount=2 * 10 ** 7, state_init=minter.state_init)

def get_mint_body(addr: str, ton_amount: int, token_amount: int):
    return (begin_cell()
            .store_uint(21, 32)
            .store_uint(0, 64)
            .store_address(addr)
            .store_coins(ton_amount)
            .store_ref(
        begin_cell()
        .store_uint(0x178d4519, 32)
        .store_uint(0, 64)
        .store_coins(token_amount)
        .store_address(None)
        .store_address(None)
        .store_coins(0)
        .store_bit(0)
        .end_cell()
    )
            .end_cell())

def get_change_metadata_body(name: str, desc: str, symbol: str, image: str):
    hm = HashMap(256, key_serializer=key_serializer, value_serializer=value_serializer)

    hm.set('name', name)
    hm.set('description', desc)
    hm.set('symbol', symbol)
    image = image
    hm.set('image_data', image)

    return begin_cell().store_uint(4, 32).store_uint(0, 64).store_ref(
        begin_cell()
            .store_uint(0, 8)
            .store_dict(hm.serialize())
        .end_cell()
    ).end_cell()

def get_change_owner_body(new_owner: Address):
    return (begin_cell()
            .store_uint(3, 32)
            .store_uint(0, 64)
            .store_address(new_owner)
            .end_cell())

async def mint_tokens(client: LiteBalancer):
    body = get_mint_body('0QBOrhNyLCPNnt7MUVxJVUSEUQF6_10q7plprvRwCiqYhMy4', 2 * 10 ** 7, token_amount=500000 * 10 ** 9)
    wallet = await WalletV4R2.from_mnemonic(client, mnemo)
    minter = await get_minter(client)
    await wallet.transfer(destination=minter.address, amount=4 * 10 ** 7, body=body)

async def change_token_metadata(client: LiteBalancer):
    body = get_change_metadata_body(
        name='Bowl',
        desc='Tasty bowl',
        symbol="BOWL",
        image='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'
    )
    wallet = await WalletV4R2.from_mnemonic(client, mnemo)
    minter = await get_minter(client)
    await wallet.transfer(destination=minter.address, amount=2 * 10 ** 7, body=body)

async def change_owner(client: LiteBalancer):
    body = get_change_owner_body(Address((0, b'\x00' * 32)))
    wallet = await WalletV4R2.from_mnemonic(client, mnemo)
    minter = await get_minter(client)
    await wallet.transfer(destination=minter.address, amount=2 * 10 ** 7, body=body)

async def main():
    async with LiteBalancer.from_testnet_config(trust_level=2) as client:
        # await deploy_minter(client)
        # await mint_tokens(client)
        await change_token_metadata(client)
        # await change_owner(client)

asyncio.run(main())
